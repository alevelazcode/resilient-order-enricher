# Test profile for Swagger testing - disables external dependencies
spring:
  autoconfigure:
    exclude:
      - org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration
      - org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration
      - org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration
      - org.springframework.boot.autoconfigure.kafka.KafkaAutoConfiguration
      - org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration
      - org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration
      - org.springframework.boot.actuate.autoconfigure.data.redis.RedisReactiveHealthContributorAutoConfiguration
      - org.springframework.boot.actuate.autoconfigure.data.redis.RedisHealthContributorAutoConfiguration
      - org.redisson.spring.starter.RedissonAutoConfigurationV2

  # Disable MongoDB
  data:
    mongodb:
      enabled: false
      uri: mongodb://localhost:27017
      database: test_db

  # Disable Redis
  redis:
    enabled: false
    host: localhost
    port: 6379

  # Disable Cache
  cache:
    enabled: false

# Disable Kafka for testing
kafka:
  enabled: false

# Disable Application schedulers for testing
app:
  scheduler:
    failed-messages:
      enabled: false

# Disable external API calls for testing
enricher-api:
  base-url: http://localhost:8080
  timeout:
    connect: 1000
    read: 2000
    write: 2000
    response: 5000

# Simplified logging for testing
logging:
  level:
    com.resilient.orderworker: DEBUG
    org.springframework.web: DEBUG
    org.springframework.boot.autoconfigure: WARN
    org.springframework.data.mongodb: WARN
    org.springframework.data.redis: WARN
    org.springdoc: DEBUG
    org.springdoc.webflux: DEBUG

# Disable management endpoints for testing
management:
  endpoints:
    web:
      exposure:
        include: health
  endpoint:
    health:
      show-details: never
